<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TripleBTrains: Z21LANProtocolSystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TripleBTrains
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Z21LANProtocolSystem.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Z21LANProtocolSystem</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabce6a58e1d8fbb71f9b08e4d5b3871c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Z21LANProtocolSystem_gabce6a58e1d8fbb71f9b08e4d5b3871c2.html#gabce6a58e1d8fbb71f9b08e4d5b3871c2">TBT::UDPClientInterface::threadFunc</a> (void)</td></tr>
<tr class="memdesc:gabce6a58e1d8fbb71f9b08e4d5b3871c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">does the actual work in a separate thread.  <a href="group__Z21LANProtocolSystem_gabce6a58e1d8fbb71f9b08e4d5b3871c2.html#gabce6a58e1d8fbb71f9b08e4d5b3871c2">More...</a><br /></td></tr>
<tr class="separator:gabce6a58e1d8fbb71f9b08e4d5b3871c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Class <a class="el" href="classTBT_1_1UDPClientInterface.html">UDPClientInterface</a> represents the <a class="el" href="classTBT_1_1ClientInterface.html">ClientInterface</a> for UDP clients using the Z21 Lan Protocol.</p>
<h1>Basics</h1>
<h2>Communication:</h2>
<p>Communication with the Z21 protocol over UDP port 21105 or 21106. Control applications on the client (PC, App, ...) should primarily use port 21105. The communication is always asynchronous, i.e. between a request and the corresponding response other broadcast messages can occur.</p>
<p>It is expected that each client communicates with the Z21 once per minute, otherwise it will be removed from the list of active participants. If possible, a client should log off when exiting with the LAN_LOGOFF command.</p>
<h2>Z21 Datagram layout</h2>
<p>A Z21 datagram, i.e. a request or response is structured as follows:</p>
<table class="doxtable">
<tr>
<th align="center">DataLen </th><th align="center">Header </th><th align="center">Data  </th></tr>
<tr>
<td align="center">2 bytes </td><td align="center">2 bytes </td><td align="center">n bytes </td></tr>
</table>
<ul>
<li><p class="startli"><b>DataLen</b> (little endian):</p>
<p class="startli">Total length over the entire data set including DataLen, Header and Data, i.e. DataLen = 2 + 2 + n.</p>
</li>
<li><p class="startli"><b>Header</b> (little endian):</p>
<p class="startli">Describes the command or protocol group.</p>
</li>
<li><p class="startli"><b>Data</b>:</p>
<p class="startli">Structure and length depend on command. Exact description see respective command.</p>
</li>
</ul>
<p>Unless otherwise stated, the byte order is little-endian, i.e. first the low byte, then the high byte.</p>
<h2>System, Status and Version</h2>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
