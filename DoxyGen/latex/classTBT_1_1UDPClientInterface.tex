\hypertarget{classTBT_1_1UDPClientInterface}{}\section{T\+BT\+:\+:U\+D\+P\+Client\+Interface Class Reference}
\label{classTBT_1_1UDPClientInterface}\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}


{\ttfamily \#include $<$U\+D\+P\+Client\+Interface.\+h$>$}

Inheritance diagram for T\+BT\+:\+:U\+D\+P\+Client\+Interface\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classTBT_1_1UDPClientInterface}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTBT_1_1UDPClientInterface_ad03356f6abf16596c181851e9fcaf7a9_ad03356f6abf16596c181851e9fcaf7a9}{U\+D\+P\+Client\+Interface} (\hyperlink{classTBT_1_1Manager}{Manager} $\ast$p\+Manager, const in\+\_\+port\+\_\+t \&port=21105)
\begin{DoxyCompactList}\small\item\em \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classTBT_1_1UDPClientInterface_af3361cf4ee8f6ab5a854f34cd1377f0e_af3361cf4ee8f6ab5a854f34cd1377f0e}{$\sim$\+U\+D\+P\+Client\+Interface} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} destructor. \end{DoxyCompactList}\item 
int \hyperlink{classTBT_1_1UDPClientInterface_ac25b06823d045631f3c7b76e9c50f22e_ac25b06823d045631f3c7b76e9c50f22e}{get\+My\+Socket} (void)
\item 
virtual void \hyperlink{classTBT_1_1UDPClientInterface_a60ddc3657a12b4e6c7ef7db0a31c9e3c_a60ddc3657a12b4e6c7ef7db0a31c9e3c}{broadcast\+Power\+State\+Change} (bool new\+State)
\begin{DoxyCompactList}\small\item\em sends a notification to all clients about a powerstate change. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTBT_1_1UDPClientInterface_af4e63115b3156b151d4dfd50342b36e7_af4e63115b3156b151d4dfd50342b36e7}{broadcast\+Loc\+Info\+Change} (\hyperlink{classTBT_1_1LocDecoder}{Loc\+Decoder} $\ast$p\+Loc)
\begin{DoxyCompactList}\small\item\em sends a notification to all clients about the locdecoder. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTBT_1_1UDPClientInterface_a33a0c51d141a457cda9dacc4d82d5304_a33a0c51d141a457cda9dacc4d82d5304}{broadcast\+Emergency\+Stop} (void)
\begin{DoxyCompactList}\small\item\em sends a notification to all clients about an emergencystop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} $\ast$ \hyperlink{classTBT_1_1UDPClientInterface_aea926878d35ed4b37143e320143a84df_aea926878d35ed4b37143e320143a84df}{find\+Client} (const sockaddr\+\_\+in \&address)
\begin{DoxyCompactList}\small\item\em returns pointer to client with specified address. \end{DoxyCompactList}\item 
bool \hyperlink{classTBT_1_1UDPClientInterface_a1a80ed1e5670443bc35691c9f3d5ff72_a1a80ed1e5670443bc35691c9f3d5ff72}{remove\+Client} (\hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} $\ast$p\+Client)
\begin{DoxyCompactList}\small\item\em removes client with specified address and destroys it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classTBT_1_1UDPClientInterface_abce6a58e1d8fbb71f9b08e4d5b3871c2_abce6a58e1d8fbb71f9b08e4d5b3871c2}{thread\+Func} (void)
\begin{DoxyCompactList}\small\item\em does the actual work in a separate thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
in\+\_\+port\+\_\+t \hyperlink{classTBT_1_1UDPClientInterface_ad867ee98c92aceffd8a7e48d82fb56d8_ad867ee98c92aceffd8a7e48d82fb56d8}{m\+\_\+port}
\item 
thread \hyperlink{classTBT_1_1UDPClientInterface_a9de3a81eedc6b4fff185ba58aa554821_a9de3a81eedc6b4fff185ba58aa554821}{m\+\_\+thread}
\item 
sockaddr\+\_\+in \hyperlink{classTBT_1_1UDPClientInterface_a5adeebce6d0adc96e590d45ffcd2103a_a5adeebce6d0adc96e590d45ffcd2103a}{m\+\_\+sockaddr\+\_\+me}
\item 
int \hyperlink{classTBT_1_1UDPClientInterface_a12f8f9eb8a8b44876f24ca146b24c99d_a12f8f9eb8a8b44876f24ca146b24c99d}{m\+\_\+fdsock\+\_\+me}
\item 
int \hyperlink{classTBT_1_1UDPClientInterface_a487ce29e92a6df41d8d5346f523b27ff_a487ce29e92a6df41d8d5346f523b27ff}{m\+\_\+fd\+Stop}
\item 
vector$<$ \hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} $\ast$ $>$ \hyperlink{classTBT_1_1UDPClientInterface_aeda0ecc87606d12d0de088344b2b31cc_aeda0ecc87606d12d0de088344b2b31cc}{sm\+\_\+\+Clients}
\item 
recursive\+\_\+mutex \hyperlink{classTBT_1_1UDPClientInterface_a8aa85fe79ea5527845988eed7d8758ab_a8aa85fe79ea5527845988eed7d8758ab}{sm\+\_\+\+M\+Clients}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} represents the \hyperlink{classTBT_1_1ClientInterface}{Client\+Interface} for U\+DP clients using the Z21 Lan Protocol.

\subsection*{Basics}

\subsubsection*{Communication\+:}

Communication with the Z21 protocol over U\+DP port 21105 or 21106. Control applications on the client (PC, App, ...) should primarily use port 21105. The communication is always asynchronous, i.\+e. between a request and the corresponding response other broadcast messages can occur.

It is expected that each client communicates with the Z21 once per minute, otherwise it will be removed from the list of active participants. If possible, a client should log off when exiting with the L\+A\+N\+\_\+\+L\+O\+G\+O\+FF command.

\subsubsection*{Z21 Datagram layout}

A Z21 datagram, i.\+e. a request or response is structured as follows\+:


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\caption{Z21 Datagram Layout}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Data\+Len}&\textbf{ Header}&\textbf{ Data }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Data\+Len}&\textbf{ Header}&\textbf{ Data }\\\cline{1-3}
\endhead
2 Bytes&2 Bytes&n Bytes \\\cline{1-3}
\end{longtabu}

\begin{DoxyItemize}
\item {\bfseries Data\+Len} (little endian)\+:

Total length over the entire data set including Data\+Len, Header and Data, i.\+e. Data\+Len = 2 + 2 + n.
\item {\bfseries Header} (little endian)\+:

Describes the command or protocol group.
\item {\bfseries Data}\+:

Structure and length depend on command. Exact description see respective command.
\end{DoxyItemize}

Unless otherwise stated, the byte order is little-\/endian, i.\+e. first the low byte, then the high byte. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_ad03356f6abf16596c181851e9fcaf7a9_ad03356f6abf16596c181851e9fcaf7a9}\label{classTBT_1_1UDPClientInterface_ad03356f6abf16596c181851e9fcaf7a9_ad03356f6abf16596c181851e9fcaf7a9}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!U\+D\+P\+Client\+Interface@{U\+D\+P\+Client\+Interface}}
\index{U\+D\+P\+Client\+Interface@{U\+D\+P\+Client\+Interface}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{U\+D\+P\+Client\+Interface()}{UDPClientInterface()}}
{\footnotesize\ttfamily T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::\+U\+D\+P\+Client\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{classTBT_1_1Manager}{Manager} $\ast$}]{p\+Manager,  }\item[{const in\+\_\+port\+\_\+t \&}]{port = {\ttfamily 21105} }\end{DoxyParamCaption})}



\hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} constructor. 

The constructor of \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface}
\begin{DoxyItemize}
\item initializes its base class
\item sets up an event file descriptor (m\+\_\+fd\+Stop) which is responsible for a clean shutdown of the worker thread.
\item sets up a socket file descriptor (m\+\_\+fdsock\+\_\+me) and initializes it for listening for incomming Z21 portocol datagrams.
\item sets up a worker thread and start the thread\+Func to listen to incomming datagrams.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em p\+Manager} & \+: pointer to the \hyperlink{classTBT_1_1Manager}{Manager} instance. \\
\hline
{\em port} & \+: The port on which to listen for incomming messages.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none \+: a new instance of type class \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} is constructed. 
\end{DoxyReturn}


References m\+\_\+fdsock\+\_\+me, m\+\_\+fd\+Stop, m\+\_\+port, m\+\_\+sockaddr\+\_\+me, m\+\_\+thread, and thread\+Func().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_af3361cf4ee8f6ab5a854f34cd1377f0e_af3361cf4ee8f6ab5a854f34cd1377f0e}\label{classTBT_1_1UDPClientInterface_af3361cf4ee8f6ab5a854f34cd1377f0e_af3361cf4ee8f6ab5a854f34cd1377f0e}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!````~U\+D\+P\+Client\+Interface@{$\sim$\+U\+D\+P\+Client\+Interface}}
\index{````~U\+D\+P\+Client\+Interface@{$\sim$\+U\+D\+P\+Client\+Interface}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{$\sim$\+U\+D\+P\+Client\+Interface()}{~UDPClientInterface()}}
{\footnotesize\ttfamily T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::$\sim$\+U\+D\+P\+Client\+Interface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



\hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface} destructor. 

The destructor of \hyperlink{classTBT_1_1UDPClientInterface}{U\+D\+P\+Client\+Interface}
\begin{DoxyItemize}
\item informs the worker thread to finish processing of incomming datagrams.
\item waits for the worker thread to finish.
\item cleans up open file descriptors 
\end{DoxyItemize}

References m\+\_\+fdsock\+\_\+me, m\+\_\+fd\+Stop, and m\+\_\+thread.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a33a0c51d141a457cda9dacc4d82d5304_a33a0c51d141a457cda9dacc4d82d5304}\label{classTBT_1_1UDPClientInterface_a33a0c51d141a457cda9dacc4d82d5304_a33a0c51d141a457cda9dacc4d82d5304}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!broadcast\+Emergency\+Stop@{broadcast\+Emergency\+Stop}}
\index{broadcast\+Emergency\+Stop@{broadcast\+Emergency\+Stop}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{broadcast\+Emergency\+Stop()}{broadcastEmergencyStop()}}
{\footnotesize\ttfamily void T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::broadcast\+Emergency\+Stop (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



sends a notification to all clients about an emergencystop. 

U\+D\+P\+Clinet\+Interface\+::broadcast\+Emergency\+Stop informs each client about the raise of an emergency stop.


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \hyperlink{classTBT_1_1ClientInterface_a8d19220baccb47a7c9f45d0288bebcb8_a8d19220baccb47a7c9f45d0288bebcb8}{T\+B\+T\+::\+Client\+Interface}.



References sm\+\_\+\+Clients, and sm\+\_\+\+M\+Clients.

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_af4e63115b3156b151d4dfd50342b36e7_af4e63115b3156b151d4dfd50342b36e7}\label{classTBT_1_1UDPClientInterface_af4e63115b3156b151d4dfd50342b36e7_af4e63115b3156b151d4dfd50342b36e7}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!broadcast\+Loc\+Info\+Change@{broadcast\+Loc\+Info\+Change}}
\index{broadcast\+Loc\+Info\+Change@{broadcast\+Loc\+Info\+Change}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{broadcast\+Loc\+Info\+Change()}{broadcastLocInfoChange()}}
{\footnotesize\ttfamily void T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::broadcast\+Loc\+Info\+Change (\begin{DoxyParamCaption}\item[{\hyperlink{classTBT_1_1LocDecoder}{Loc\+Decoder} $\ast$}]{p\+Loc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



sends a notification to all clients about the locdecoder. 

\hyperlink{classTBT_1_1UDPClientInterface_af4e63115b3156b151d4dfd50342b36e7_af4e63115b3156b151d4dfd50342b36e7}{U\+D\+P\+Client\+Interface\+::broadcast\+Loc\+Info\+Change} informs each client about changes in the state of a \hyperlink{classTBT_1_1LocDecoder}{Loc\+Decoder}.


\begin{DoxyParams}{Parameters}
{\em p\+Loc} & \+: pointer to the \hyperlink{classTBT_1_1LocDecoder}{Loc\+Decoder} instance whoes state changed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \hyperlink{classTBT_1_1ClientInterface_aaede3709fa0dcb23743f43d9c1a5ab04_aaede3709fa0dcb23743f43d9c1a5ab04}{T\+B\+T\+::\+Client\+Interface}.



References sm\+\_\+\+Clients, and sm\+\_\+\+M\+Clients.

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a60ddc3657a12b4e6c7ef7db0a31c9e3c_a60ddc3657a12b4e6c7ef7db0a31c9e3c}\label{classTBT_1_1UDPClientInterface_a60ddc3657a12b4e6c7ef7db0a31c9e3c_a60ddc3657a12b4e6c7ef7db0a31c9e3c}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!broadcast\+Power\+State\+Change@{broadcast\+Power\+State\+Change}}
\index{broadcast\+Power\+State\+Change@{broadcast\+Power\+State\+Change}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{broadcast\+Power\+State\+Change()}{broadcastPowerStateChange()}}
{\footnotesize\ttfamily void T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::broadcast\+Power\+State\+Change (\begin{DoxyParamCaption}\item[{bool}]{new\+State }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



sends a notification to all clients about a powerstate change. 

\hyperlink{classTBT_1_1UDPClientInterface_a60ddc3657a12b4e6c7ef7db0a31c9e3c_a60ddc3657a12b4e6c7ef7db0a31c9e3c}{U\+D\+P\+Client\+Interface\+::broadcast\+Power\+State\+Change} informs each client about a power state change.


\begin{DoxyParams}{Parameters}
{\em new\+State} & \+: bool true if the power is applied to the track, false otherwise.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \hyperlink{classTBT_1_1ClientInterface_a7888a3446fb416fad75e5e008a85ca0c_a7888a3446fb416fad75e5e008a85ca0c}{T\+B\+T\+::\+Client\+Interface}.



References sm\+\_\+\+Clients, and sm\+\_\+\+M\+Clients.

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_aea926878d35ed4b37143e320143a84df_aea926878d35ed4b37143e320143a84df}\label{classTBT_1_1UDPClientInterface_aea926878d35ed4b37143e320143a84df_aea926878d35ed4b37143e320143a84df}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!find\+Client@{find\+Client}}
\index{find\+Client@{find\+Client}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{find\+Client()}{findClient()}}
{\footnotesize\ttfamily \hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} $\ast$ T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::find\+Client (\begin{DoxyParamCaption}\item[{const sockaddr\+\_\+in \&}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



returns pointer to client with specified address. 

\hyperlink{classTBT_1_1UDPClientInterface_aea926878d35ed4b37143e320143a84df_aea926878d35ed4b37143e320143a84df}{U\+D\+P\+Client\+Interface\+::find\+Client} returns a pointer to an \hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} instance at the specified address. If the client doesn\textquotesingle{}t exists, it is created.


\begin{DoxyParams}{Parameters}
{\em address} & \+: the socket address on which the client is addressed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the instance of the \hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client}. 
\end{DoxyReturn}


References sm\+\_\+\+Clients, and sm\+\_\+\+M\+Clients.



Referenced by thread\+Func().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_ac25b06823d045631f3c7b76e9c50f22e_ac25b06823d045631f3c7b76e9c50f22e}\label{classTBT_1_1UDPClientInterface_ac25b06823d045631f3c7b76e9c50f22e_ac25b06823d045631f3c7b76e9c50f22e}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!get\+My\+Socket@{get\+My\+Socket}}
\index{get\+My\+Socket@{get\+My\+Socket}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{get\+My\+Socket()}{getMySocket()}}
{\footnotesize\ttfamily int T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::get\+My\+Socket (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

returns handle to the socket of the client.

\hyperlink{classTBT_1_1UDPClientInterface_ac25b06823d045631f3c7b76e9c50f22e_ac25b06823d045631f3c7b76e9c50f22e}{U\+D\+P\+Client\+Interface\+::get\+My\+Socket} returns the handle to the socket on which to send responses to the client.


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int \+: handle to socket on wich to send responses to. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a1a80ed1e5670443bc35691c9f3d5ff72_a1a80ed1e5670443bc35691c9f3d5ff72}\label{classTBT_1_1UDPClientInterface_a1a80ed1e5670443bc35691c9f3d5ff72_a1a80ed1e5670443bc35691c9f3d5ff72}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!remove\+Client@{remove\+Client}}
\index{remove\+Client@{remove\+Client}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{remove\+Client()}{removeClient()}}
{\footnotesize\ttfamily bool T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::remove\+Client (\begin{DoxyParamCaption}\item[{\hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} $\ast$}]{p\+Client }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



removes client with specified address and destroys it. 

\hyperlink{classTBT_1_1UDPClientInterface_a1a80ed1e5670443bc35691c9f3d5ff72_a1a80ed1e5670443bc35691c9f3d5ff72}{U\+D\+P\+Client\+Interface\+::remove\+Client} removes a client from the pool of U\+D\+P\+Clients and destroys the client if it exists.


\begin{DoxyParams}{Parameters}
{\em p\+Client} & \+: pointer to instance of class \hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client} to remove.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item true if client is removed,
\item false if client didn\textquotesingle{}t exists. 
\end{DoxyItemize}
\end{DoxyReturn}


References sm\+\_\+\+Clients, and sm\+\_\+\+M\+Clients.



Referenced by thread\+Func().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_abce6a58e1d8fbb71f9b08e4d5b3871c2_abce6a58e1d8fbb71f9b08e4d5b3871c2}\label{classTBT_1_1UDPClientInterface_abce6a58e1d8fbb71f9b08e4d5b3871c2_abce6a58e1d8fbb71f9b08e4d5b3871c2}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!thread\+Func@{thread\+Func}}
\index{thread\+Func@{thread\+Func}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{thread\+Func()}{threadFunc()}}
{\footnotesize\ttfamily void T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::thread\+Func (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



does the actual work in a separate thread. 

\hyperlink{classTBT_1_1UDPClientInterface_abce6a58e1d8fbb71f9b08e4d5b3871c2_abce6a58e1d8fbb71f9b08e4d5b3871c2}{U\+D\+P\+Client\+Interface\+::thread\+Func} runs in a separate thread. The function listen on the socket (m\+\_\+fdsock\+\_\+me) for incomming datagrams. 

 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+S\+E\+R\+I\+A\+L\+\_\+\+N\+U\+M\+B\+ER}

read the serial number from the Z21

\hypertarget{UDPClientInterface.cpp_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{request\+:}\label{UDPClientInterface.cpp_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x10&0x00&-- \\\cline{1-5}
\end{longtabu}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x08&0x00&0x10&0x00&Serialnumber (32 bit, little endian) \\\cline{1-5}
\end{longtabu}




 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+C\+O\+DE}

With this command, the SW feature scope of the Z21 can be checked and read out. This command is of particular interest for the hardware version \char`\"{}z21 start\char`\"{} in order to check whether driving and switching via L\+AN is blocked or allowed.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x18&0x00&-\/ \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x05&0x00&0x18&0x00&Code (8 Bit) \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\caption{Code layout}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ define}&\textbf{ Value}&\textbf{ Meaning }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ define}&\textbf{ Value}&\textbf{ Meaning }\\\cline{1-3}
\endhead
Z21\+\_\+\+N\+O\+\_\+\+L\+O\+CK&0x00&No features locked \\\cline{1-3}
Z21\+\_\+\+S\+T\+A\+R\+T\+\_\+\+L\+O\+C\+K\+ED&0x01&\char`\"{}z21 start\char`\"{} \+: Driving and switching disabled via L\+AN. \\\cline{1-3}
Z21\+\_\+\+S\+T\+A\+R\+T\+\_\+\+U\+N\+L\+O\+C\+K\+ED&0x02&\char`\"{}z21 start\char`\"{} \+: all feature locks are removed \\\cline{1-3}
\end{longtabu}




 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+H\+W\+I\+N\+FO}

With this command the hardware type and the firmware version of the Z21 can be read out.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x1A&0x00&-\/ \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endhead
0x0C&0x00&0x1A&0x00&Hw\+Type 32 Bit(little endian)&FW Version 32 Bit (little endian) \\\cline{1-6}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\caption{Hw\+Type 32 Bit}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ define}&\textbf{ Value}&\textbf{ Meaning }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ define}&\textbf{ Value}&\textbf{ Meaning }\\\cline{1-3}
\endhead
D\+\_\+\+H\+W\+T\+\_\+\+Z21\+\_\+\+O\+LD&0x00000200&\char`\"{}\+Black Z21\char`\"{} (Hardware-\/version from 2012) \\\cline{1-3}
D\+\_\+\+H\+W\+T\+\_\+\+Z21\+\_\+\+N\+EW&0x00000201&\char`\"{}\+Black Z21\char`\"{} (Hardware-\/version from 2013) \\\cline{1-3}
D\+\_\+\+H\+W\+T\+\_\+\+S\+M\+A\+R\+T\+R\+A\+IL&0x00000202&\char`\"{}\+Smart\+Rail\char`\"{} (from 2012) \\\cline{1-3}
D\+\_\+\+H\+W\+T\+\_\+z21\+\_\+\+S\+M\+A\+LL&0x00000203&\char`\"{}\+White z21\char`\"{} Starterset-\/version (from 2013) \\\cline{1-3}
D\+\_\+\+H\+W\+T\+\_\+z21\+\_\+\+S\+T\+A\+RT&0x00000204&\char`\"{}z21 start\char`\"{} Starterset-\/version (from 2016) \\\cline{1-3}
\end{longtabu}


The FW version is specified in B\+CD format.



 \paragraph*{L\+A\+N\+\_\+\+L\+O\+G\+O\+FF}

Log off this client from the system


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x30&0x00&-- \\\cline{1-5}
\end{longtabu}


response\+: none

When logging out, use the same port number as when logging in.

{\bfseries Note}\+: logging in occurs implicitly with the client\textquotesingle{}s first command (e.\+g. L\+A\+N\+\_\+\+S\+Y\+S\+T\+E\+M\+\_\+\+S\+T\+A\+T\+E\+\_\+\+G\+E\+T\+D\+A\+TA, ...).



 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+F\+L\+A\+GS}

Reading out the broadcast flags in the Z21.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x51&0x00&-- \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x08&0x00&0x51&0x00&Broadcast-\/\+Flags (32 Bit little endian) \\\cline{1-5}
\end{longtabu}


Broadcast-\/\+Flags \+: see \hyperlink{classTBT_1_1UDPClient_a18da0bdc657f707f4c0af6cd3b1e6031_a18da0bdc657f707f4c0af6cd3b1e6031}{U\+D\+P\+Client\+::get\+Broadcast\+Flags}



 \paragraph*{L\+A\+N\+\_\+\+S\+Y\+S\+T\+E\+M\+S\+T\+A\+T\+E\+\_\+\+G\+E\+T\+D\+A\+TA}

Request the current system state.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x04&0x00&0x85&0x00&-\/ \\\cline{1-5}
\end{longtabu}


response \+: see \hyperlink{structTBT_1_1SystemState}{T\+B\+T\+::\+System\+State}



 \paragraph*{L\+A\+N\+\_\+\+L\+O\+C\+O\+N\+E\+T\+\_\+\+F\+R\+O\+M\+\_\+\+L\+AN}

{\bfseries From Z21 FW version 1.\+20.}

With this message, a L\+AN client can write a message to the Loco\+Net bus.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
\multirow{2}{\linewidth}{0x04 + n}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x\+A2}&\multirow{2}{\linewidth}{0x00}&\textbf{ Loco\+Net message incl. C\+K\+S\+UM }\\\cline{5-5}
&&&&n Bytes \\\cline{1-5}
\end{longtabu}




 \paragraph*{L\+A\+N\+\_\+\+R\+M\+B\+U\+S\+\_\+\+G\+E\+T\+D\+A\+TA}

Request the current status of the feedback.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x05&0x00&0x81&0x00&Group index (1 Byte) \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endhead
0x0F&0x00&0x80&0x00&Group index (1 Byte)&Feedback status (10 bytes) \\\cline{1-6}
\end{longtabu}


{\bfseries Group index \+:}
\begin{DoxyItemize}
\item 0 --$>$ Feedback status for address from 1 to 10
\item 1 --$>$ Feedback status for address from 11 to 20
\item 
\item 
\end{DoxyItemize}

{\bfseries Feedback status \+:}
\begin{DoxyItemize}
\item 1 byte per feedback,
\item 1 bit per input.
\end{DoxyItemize}

The assignment of feedback address and byte position is statically ascending.

{\bfseries Example\+:} Group\+Index = 1 and feedback status = 0x01 0x00 0x\+C5 0x00 0x00 0x00 0x00 0x00 0x00 0x00 means \char`\"{}feedback 11, contact input 1; Feedback 13, contact input 8,7,3 and 1 \char`\"{}



 \paragraph*{L\+A\+N\+\_\+\+R\+M\+B\+U\+S\+\_\+\+P\+R\+O\+G\+R\+A\+M\+M\+O\+D\+U\+LE}

Change the feedback address.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x05&0x00&0x82&0x00&Address (1 Byte) \\\cline{1-5}
\end{longtabu}


{\bfseries Address\+:} new address for the feedback module to be programmed. Supported value range\+: 0 and 1 ... 20.

Response\+: none

\begin{DoxyWarning}{Warning}
The programming command is output on the R-\/\+B\+US until this command is sent again to Z21 with address = 0. During the programming process, no other feedback module may be connected on the R-\/\+B\+US.
\end{DoxyWarning}


 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+L\+O\+C\+O\+M\+O\+DE}

Read the output format for a given locomotive address.

The output format (D\+CC, MM) can be stored persistently per locomotive address in the Z21. A maximum of 256 different locomotive addresses can be stored. Each address$>$ = 256 is automatically D\+CC.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x06&0x00&0x60&0x00&Loc-\/\+Address (16 Bit {\bfseries big endian}) \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endhead
0x07&0x00&0x60&0x00&Loc-\/\+Address (16 Bit {\bfseries big endian})&Modus (8 bit) \\\cline{1-6}
\end{longtabu}


Modus \+: see \hyperlink{classTBT_1_1LocDecoder_afaa04ad0561a39212d69d0aabece751e_afaa04ad0561a39212d69d0aabece751e}{Loc\+Decoder\+::get\+Loc\+Mode}



 \paragraph*{L\+A\+N\+\_\+\+X\+\_\+\+S\+E\+T\+\_\+\+S\+T\+OP}

With the following command the emergency stop is raised. All Locs goes into speedstep 01, but the power is still feed to the rails.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endhead
\multirow{2}{\linewidth}{0x06}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-6}
&&&&0x80&0x80 \\\cline{1-6}
\end{longtabu}


response \+: see \hyperlink{classTBT_1_1UDPClient_a378d141aa807a685b1e70adaacd5fc17_a378d141aa807a685b1e70adaacd5fc17}{U\+D\+P\+Client\+::broadcast\+Emergency\+Stop}



 \paragraph*{L\+A\+N\+\_\+\+G\+E\+T\+\_\+\+T\+U\+R\+N\+O\+U\+T\+M\+O\+DE}

Reading the settings for a given function decoder address (\char`\"{}\+Function Decoder\char`\"{} in the sense of \char`\"{}\+Accessory Decoder\char`\"{} R\+P-\/9.\+2.\+1). The output format (D\+CC, MM) can be stored persistently per function decoder address in the Z21. A maximum of 256 different function decoder addresses can be stored. Each Address$>$ = 256 is automatically D\+CC.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{5}{|X[-1]}|}
\caption{Request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*5-\arrayrulewidth*3)*2/5}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\textbf{ Data }\\\cline{1-5}
\endhead
0x06&0x00&0x70&0x00&Function \hyperlink{classTBT_1_1Decoder}{Decoder} Address (16 Bit {\bfseries big endian}) \\\cline{1-5}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{Response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*6-\arrayrulewidth*3)*2/6}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-6}
\endhead
0x07&0x00&0x70&0x00&Function \hyperlink{classTBT_1_1Decoder}{Decoder} Address (16 Bit {\bfseries big endian})&Modus (8 Bit) \\\cline{1-6}
\end{longtabu}


Modus \+: see Function\+Decoder\+::get\+Mode

At the L\+AN interface and in the Z21, the function decoder addresses are addressed from 0, in the visualization on the apps or on the multi-\/mouse, however, from 1. This is merely a decision of the visualization. Example\+: multi\+Maus switch address \# 3, corresponds on the L\+AN and Z21 to address \# 2.



 \paragraph*{L\+A\+N\+\_\+\+X\+\_\+\+G\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}

With the following command the X-\/\+Bus version of the Z21 can be read out.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{7}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endhead
\multirow{2}{\linewidth}{0x07}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-7}
&&&&0x21&0x21&0x00 \\\cline{1-7}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{9}{|X[-1]}|}
\caption{response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*2/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*2/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{5}{p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*5/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*2/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*2/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{5}{p{(\linewidth-\tabcolsep*9-\arrayrulewidth*3)*5/9}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-9}
\endhead
\multirow{2}{\linewidth}{0x09}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ D\+B1}&\textbf{ D\+B2}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-9}
&&&&0x63&0x21&0x30&0x12&0x60 \\\cline{1-9}
\end{longtabu}



\begin{DoxyItemize}
\item D\+B1 --$>$ X-\/\+Bus Version (3.\+0)
\item D\+B2 --$>$ ID (Z21 = 0x12)
\end{DoxyItemize}



 \paragraph*{L\+A\+N\+\_\+\+X\+\_\+\+G\+E\+T\+\_\+\+S\+T\+A\+T\+US}

with the following command the system\textquotesingle{}s status can be read out.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{7}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endhead
\multirow{2}{\linewidth}{0x07}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-7}
&&&&0x21&0x24&0x05 \\\cline{1-7}
\end{longtabu}



\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{8}{|X[-1]}|}
\caption{response\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*2/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*2/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{4}{p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*4/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-8}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*2/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*2/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Headers}}&\multicolumn{4}{p{(\linewidth-\tabcolsep*8-\arrayrulewidth*3)*4/8}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-8}
\endhead
\multirow{2}{\linewidth}{0x08}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ D\+B1}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-8}
&&&&0x62&0x22&Central\+State&X\+O\+R-\/\+Byte \\\cline{1-8}
\end{longtabu}


The system status is identical to the central\+State, which is supplied in System\+Status.

\begin{DoxySeeAlso}{See also}
\hyperlink{classTBT_1_1Manager_a78e5bea49f6662b5f44c1c0aafe4cb75_a78e5bea49f6662b5f44c1c0aafe4cb75}{Manager\+::get\+Central\+State}
\end{DoxySeeAlso}


 \paragraph*{L\+A\+N\+\_\+\+X\+\_\+\+S\+E\+T\+\_\+\+T\+R\+A\+C\+K\+\_\+\+P\+O\+W\+E\+R\+\_\+\+O\+FF}

With the following command the trackpower is switched off.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{7}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endhead
\multirow{2}{\linewidth}{0x07}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-7}
&&&&0x21&0x80&0x\+A1 \\\cline{1-7}
\end{longtabu}


response\+: see \hyperlink{classTBT_1_1UDPClient_aafe098769858c054b025bf3b3ccacf30_aafe098769858c054b025bf3b3ccacf30}{U\+D\+P\+Client\+::broadcast\+Power\+State\+Change}



 \paragraph*{L\+A\+N\+\_\+\+X\+\_\+\+S\+E\+T\+\_\+\+T\+R\+A\+C\+K\+\_\+\+P\+O\+W\+E\+R\+\_\+\+ON}

With the following command the trackpower is switched on. This cancels a pending emergencystop or programmingmode.


\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{7}{|X[-1]}|}
\caption{request\+:}\label{_}\\
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\multicolumn{2}{|p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data\+Len}}&\multicolumn{2}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*2/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Header}}&\multicolumn{3}{p{(\linewidth-\tabcolsep*7-\arrayrulewidth*3)*3/7}|}{\cellcolor{\tableheadbgcolor}\textbf{ Data }}\\\cline{1-7}
\endhead
\multirow{2}{\linewidth}{0x07}&\multirow{2}{\linewidth}{0x00}&\multirow{2}{\linewidth}{0x40}&\multirow{2}{\linewidth}{0x00}&\textbf{ X-\/\+Header}&\textbf{ D\+B0}&\textbf{ X\+O\+R-\/\+Byte }\\\cline{5-7}
&&&&0x21&0x81&0x\+A0 \\\cline{1-7}
\end{longtabu}


response\+: see \hyperlink{classTBT_1_1UDPClient_aafe098769858c054b025bf3b3ccacf30_aafe098769858c054b025bf3b3ccacf30}{U\+D\+P\+Client\+::broadcast\+Power\+State\+Change}

References find\+Client(), T\+B\+T\+::\+Manager\+::find\+Decoder(), T\+B\+T\+::\+U\+D\+P\+Client\+::get\+Broadcast\+Flags(), T\+B\+T\+::\+Manager\+::get\+Central\+State(), T\+B\+T\+::\+Decoder\+::get\+D\+C\+C\+Address(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F0(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F1(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F10(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F11(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F12(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F13(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F14(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F15(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F16(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F17(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F18(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F19(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F2(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F20(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F21(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F22(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F23(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F24(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F25(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F26(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F27(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F28(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F3(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F4(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F5(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F6(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F7(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F8(), T\+B\+T\+::\+Loc\+Decoder\+::get\+F9(), T\+B\+T\+::\+Client\+::get\+Interface(), T\+B\+T\+::\+Loc\+Decoder\+::get\+L\+A\+N\+Loc\+Info(), T\+B\+T\+::\+Loc\+Decoder\+::get\+Loc\+Mode(), T\+B\+T\+::\+Client\+Interface\+::get\+Manager(), T\+B\+T\+::\+Manager\+::get\+System\+State(), m\+\_\+fdsock\+\_\+me, m\+\_\+fd\+Stop, T\+B\+T\+::\+Power\+Off, T\+B\+T\+::\+Power\+On, remove\+Client(), T\+B\+T\+::\+U\+D\+P\+Client\+::set\+Broadcast\+Flags(), T\+B\+T\+::\+Manager\+::set\+Emergency\+Stop(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F0(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F1(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F10(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F11(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F12(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F13(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F14(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F15(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F16(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F17(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F18(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F19(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F2(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F20(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F21(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F22(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F23(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F24(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F25(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F26(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F27(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F28(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F3(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F4(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F5(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F6(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F7(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F8(), T\+B\+T\+::\+Loc\+Decoder\+::set\+F9(), T\+B\+T\+::\+Loc\+Decoder\+::set\+Loc\+Mode(), T\+B\+T\+::\+Loc\+Decoder\+::set\+Loco\+Drive128(), T\+B\+T\+::\+Loc\+Decoder\+::set\+Loco\+Drive14(), T\+B\+T\+::\+Loc\+Decoder\+::set\+Loco\+Drive28(), and T\+B\+T\+::\+Manager\+::set\+Power\+State().



Referenced by U\+D\+P\+Client\+Interface().



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a12f8f9eb8a8b44876f24ca146b24c99d_a12f8f9eb8a8b44876f24ca146b24c99d}\label{classTBT_1_1UDPClientInterface_a12f8f9eb8a8b44876f24ca146b24c99d_a12f8f9eb8a8b44876f24ca146b24c99d}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!m\+\_\+fdsock\+\_\+me@{m\+\_\+fdsock\+\_\+me}}
\index{m\+\_\+fdsock\+\_\+me@{m\+\_\+fdsock\+\_\+me}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{m\+\_\+fdsock\+\_\+me}{m\_fdsock\_me}}
{\footnotesize\ttfamily int T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::m\+\_\+fdsock\+\_\+me\hspace{0.3cm}{\ttfamily [private]}}



Referenced by thread\+Func(), U\+D\+P\+Client\+Interface(), and $\sim$\+U\+D\+P\+Client\+Interface().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a487ce29e92a6df41d8d5346f523b27ff_a487ce29e92a6df41d8d5346f523b27ff}\label{classTBT_1_1UDPClientInterface_a487ce29e92a6df41d8d5346f523b27ff_a487ce29e92a6df41d8d5346f523b27ff}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!m\+\_\+fd\+Stop@{m\+\_\+fd\+Stop}}
\index{m\+\_\+fd\+Stop@{m\+\_\+fd\+Stop}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{m\+\_\+fd\+Stop}{m\_fdStop}}
{\footnotesize\ttfamily int T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::m\+\_\+fd\+Stop\hspace{0.3cm}{\ttfamily [private]}}



Referenced by thread\+Func(), U\+D\+P\+Client\+Interface(), and $\sim$\+U\+D\+P\+Client\+Interface().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_ad867ee98c92aceffd8a7e48d82fb56d8_ad867ee98c92aceffd8a7e48d82fb56d8}\label{classTBT_1_1UDPClientInterface_ad867ee98c92aceffd8a7e48d82fb56d8_ad867ee98c92aceffd8a7e48d82fb56d8}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!m\+\_\+port@{m\+\_\+port}}
\index{m\+\_\+port@{m\+\_\+port}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{m\+\_\+port}{m\_port}}
{\footnotesize\ttfamily in\+\_\+port\+\_\+t T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::m\+\_\+port\hspace{0.3cm}{\ttfamily [private]}}



Referenced by U\+D\+P\+Client\+Interface().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a5adeebce6d0adc96e590d45ffcd2103a_a5adeebce6d0adc96e590d45ffcd2103a}\label{classTBT_1_1UDPClientInterface_a5adeebce6d0adc96e590d45ffcd2103a_a5adeebce6d0adc96e590d45ffcd2103a}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!m\+\_\+sockaddr\+\_\+me@{m\+\_\+sockaddr\+\_\+me}}
\index{m\+\_\+sockaddr\+\_\+me@{m\+\_\+sockaddr\+\_\+me}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{m\+\_\+sockaddr\+\_\+me}{m\_sockaddr\_me}}
{\footnotesize\ttfamily sockaddr\+\_\+in T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::m\+\_\+sockaddr\+\_\+me\hspace{0.3cm}{\ttfamily [private]}}



Referenced by U\+D\+P\+Client\+Interface().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a9de3a81eedc6b4fff185ba58aa554821_a9de3a81eedc6b4fff185ba58aa554821}\label{classTBT_1_1UDPClientInterface_a9de3a81eedc6b4fff185ba58aa554821_a9de3a81eedc6b4fff185ba58aa554821}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!m\+\_\+thread@{m\+\_\+thread}}
\index{m\+\_\+thread@{m\+\_\+thread}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{m\+\_\+thread}{m\_thread}}
{\footnotesize\ttfamily thread T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::m\+\_\+thread\hspace{0.3cm}{\ttfamily [private]}}



Referenced by U\+D\+P\+Client\+Interface(), and $\sim$\+U\+D\+P\+Client\+Interface().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_aeda0ecc87606d12d0de088344b2b31cc_aeda0ecc87606d12d0de088344b2b31cc}\label{classTBT_1_1UDPClientInterface_aeda0ecc87606d12d0de088344b2b31cc_aeda0ecc87606d12d0de088344b2b31cc}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!sm\+\_\+\+Clients@{sm\+\_\+\+Clients}}
\index{sm\+\_\+\+Clients@{sm\+\_\+\+Clients}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{sm\+\_\+\+Clients}{sm\_Clients}}
{\footnotesize\ttfamily vector$<$\hyperlink{classTBT_1_1UDPClient}{U\+D\+P\+Client}$\ast$$>$ T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::sm\+\_\+\+Clients\hspace{0.3cm}{\ttfamily [private]}}



Referenced by broadcast\+Emergency\+Stop(), broadcast\+Loc\+Info\+Change(), broadcast\+Power\+State\+Change(), find\+Client(), and remove\+Client().

\mbox{\Hypertarget{classTBT_1_1UDPClientInterface_a8aa85fe79ea5527845988eed7d8758ab_a8aa85fe79ea5527845988eed7d8758ab}\label{classTBT_1_1UDPClientInterface_a8aa85fe79ea5527845988eed7d8758ab_a8aa85fe79ea5527845988eed7d8758ab}} 
\index{T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}!sm\+\_\+\+M\+Clients@{sm\+\_\+\+M\+Clients}}
\index{sm\+\_\+\+M\+Clients@{sm\+\_\+\+M\+Clients}!T\+B\+T\+::\+U\+D\+P\+Client\+Interface@{T\+B\+T\+::\+U\+D\+P\+Client\+Interface}}
\subsubsection{\texorpdfstring{sm\+\_\+\+M\+Clients}{sm\_MClients}}
{\footnotesize\ttfamily recursive\+\_\+mutex T\+B\+T\+::\+U\+D\+P\+Client\+Interface\+::sm\+\_\+\+M\+Clients\hspace{0.3cm}{\ttfamily [private]}}



Referenced by broadcast\+Emergency\+Stop(), broadcast\+Loc\+Info\+Change(), broadcast\+Power\+State\+Change(), find\+Client(), and remove\+Client().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{UDPClientInterface_8h}{U\+D\+P\+Client\+Interface.\+h}\item 
\hyperlink{UDPClientInterface_8cpp}{U\+D\+P\+Client\+Interface.\+cpp}\end{DoxyCompactItemize}
